"use strict";(self.webpackChunkionet_doc=self.webpackChunkionet_doc||[]).push([[4426],{1470:(e,n,a)=>{a.d(n,{A:()=>C});var r=a(6540),t=a(4164),i=a(7559),s=a(3104),l=a(6347),o=a(205),c=a(7485),d=a(1682),u=a(9466);function h(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function g(e){const{values:n,children:a}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return h(e).map((({props:{value:e,label:n,attributes:a,default:r}})=>({value:e,label:n,attributes:a,default:r})))}(a);return function(e){const n=(0,d.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,a])}function m({value:e,tabValues:n}){return n.some((n=>n.value===e))}function p({queryString:e=!1,groupId:n}){const a=(0,l.W6)(),t=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,c.aZ)(t),(0,r.useCallback)((e=>{if(!t)return;const n=new URLSearchParams(a.location.search);n.set(t,e),a.replace({...a.location,search:n.toString()})}),[t,a])]}function x(e){const{defaultValue:n,queryString:a=!1,groupId:t}=e,i=g(e),[s,l]=(0,r.useState)((()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:n,tabValues:i}))),[c,d]=p({queryString:a,groupId:t}),[h,x]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[a,t]=(0,u.Dv)(n);return[a,(0,r.useCallback)((e=>{n&&t.set(e)}),[n,t])]}({groupId:t}),v=(()=>{const e=c??h;return m({value:e,tabValues:i})?e:null})();(0,o.A)((()=>{v&&l(v)}),[v]);return{selectedValue:s,selectValue:(0,r.useCallback)((e=>{if(!m({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),x(e)}),[d,x,i]),tabValues:i}}var v=a(2303);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var f=a(4848);function j({className:e,block:n,selectedValue:a,selectValue:r,tabValues:i}){const l=[],{blockElementScrollPositionUntilNextRender:o}=(0,s.a_)(),c=e=>{const n=e.currentTarget,t=l.indexOf(n),s=i[t].value;s!==a&&(o(n),r(s))},d=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const a=l.indexOf(e.currentTarget)+1;n=l[a]??l[0];break}case"ArrowLeft":{const a=l.indexOf(e.currentTarget)-1;n=l[a]??l[l.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":n},e),children:i.map((({value:e,label:n,attributes:r})=>(0,f.jsx)("li",{role:"tab",tabIndex:a===e?0:-1,"aria-selected":a===e,ref:e=>{l.push(e)},onKeyDown:d,onClick:c,...r,className:(0,t.A)("tabs__item",b.tabItem,r?.className,{"tabs__item--active":a===e}),children:n??e},e)))})}function y({lazy:e,children:n,selectedValue:a}){const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=i.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==a})))})}function V(e){const n=x(e);return(0,f.jsxs)("div",{className:(0,t.A)(i.G.tabs.container,"tabs-container",b.tabList),children:[(0,f.jsx)(j,{...n,...e}),(0,f.jsx)(y,{...n,...e})]})}function C(e){const n=(0,v.A)();return(0,f.jsx)(V,{...e,children:h(e.children)},String(n))}},5791:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>g,frontMatter:()=>o,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"manual/jsr380","title":"JSR380 \u9a8c\u8bc1\u89c4\u8303","description":"\u4ecb\u7ecd","source":"@site/docs/manual/jsr380.mdx","sourceDirName":"manual","slug":"/manual/jsr380","permalink":"/ionet/en/docs/manual/jsr380","draft":false,"unlisted":false,"editUrl":"/docs/manual/jsr380.mdx","tags":[],"version":"current","lastUpdatedAt":1765508864000,"sidebarPosition":111,"frontMatter":{"sidebar_position":111},"sidebar":"tutorialSidebar","previous":{"title":"\u65ad\u8a00 + \u5f02\u5e38\u673a\u5236 = \u6e05\u6670\u7b80\u6d01\u7684\u4ee3\u7801","permalink":"/ionet/en/docs/manual/assert_error_code"},"next":{"title":"FlowContext","permalink":"/ionet/en/docs/manual/flow_context"}}');var t=a(4848),i=a(8453),s=a(1470),l=a(9365);const o={sidebar_position:111},c="JSR380 \u9a8c\u8bc1\u89c4\u8303",d={},u=[{value:"\u4ecb\u7ecd",id:"Intro",level:2},{value:"Example Source Code",id:"example-source-code",level:2},{value:"\u6ca1\u6709\u4f7f\u7528\u9a8c\u8bc1\u7684\u793a\u4f8b",id:"Example-Without-Validation",level:2},{value:"\u5982\u4f55\u5b89\u88c5",id:"How-To-Install",level:2},{value:"\u5982\u4f55\u4f7f\u7528",id:"How-to-Use",level:2},{value:"\u9a8c\u8bc1\u5931\u8d25\u7684\u6253\u5370\u9884\u89c8",id:"Print-Preview-of-Failed-Validation",level:2},{value:"\u81ea\u52a8\u9a8c\u8bc1",id:"Auto-Verification",level:2}];function h(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"jsr380-\u9a8c\u8bc1\u89c4\u8303",children:"JSR380 \u9a8c\u8bc1\u89c4\u8303"})}),"\n",(0,t.jsx)(n.h2,{id:"Intro",children:"\u4ecb\u7ecd"}),"\n",(0,t.jsxs)(n.p,{children:["\u4e1a\u52a1\u6846\u67b6\u652f\u6301 JSR380 \u9a8c\u8bc1\u89c4\u8303 \uff08\u7531 ",(0,t.jsx)(n.a,{href:"https://hibernate.org/validator/",children:"hibernate-validator"})," \u652f\u6301\uff09\uff0c\u8be5\u89c4\u8303\u53ef\u4ee5\u4f7f\u5f97\u4e1a\u52a1\u4ee3\u7801\u66f4\u52a0\u7684\u5e72\u51c0\u3002"]}),"\n",(0,t.jsx)(n.p,{children:"\u82e5\u4e0d\u4f7f\u7528\u9a8c\u8bc1\u6846\u67b6\uff0c\u5e38\u89c4\u7684\u505a\u6cd5\u662f\u4e0d\u65ad\u7684\u5728\u4e1a\u52a1\u4ee3\u7801\u4e2d\u75af\u72c2\u4f7f\u7528 if else \u8f93\u51fa\uff0c\u8fd9\u5c06\u9020\u6210\u4e1a\u52a1\u4ee3\u7801\u6df7\u4e71\u3002\n\u4e0b\u9762\uff0c\u6211\u4eec\u4f7f\u7528\u4e24\u4e2a\u793a\u4f8b\u5bf9\u6bd4\u6765\u8bf4\u660e JSR380 \u7684\u4f18\u52bf\u3002\n\u4e00\u4e2a\u662f\u4f7f\u7528\u4e86 JSR380 \u7684\u793a\u4f8b\uff0c\u4e00\u4e2a\u662f\u6ca1\u6709\u4f7f\u7528\u7684\u793a\u4f8b\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"example-source-code",children:"Example Source Code"}),"\n",(0,t.jsxs)(n.p,{children:["see ",(0,t.jsx)(n.a,{href:"https://github.com/iohao/ionet-examples",children:"https://github.com/iohao/ionet-examples"})]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"path : ionet-cookbook-code"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Jsr380Action"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"Example-Without-Validation",children:"\u6ca1\u6709\u4f7f\u7528\u9a8c\u8bc1\u7684\u793a\u4f8b"}),"\n",(0,t.jsx)(n.p,{children:"\u73b0\u5728\u5148\u8ba9\u6211\u4eec\u770b\u4e00\u4e2a\u6ca1\u6709\u4f7f\u7528 JSR380 \u7684\u793a\u4f8b\u3002\n\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u5bf9\u7535\u5b50\u90ae\u7bb1\u548c\u5e74\u9f84\u8fd9\u4e24\u4e2a\u5c5e\u6027\u7684\u6570\u636e\u8fdb\u884c\u5408\u6cd5\u9a8c\u8bc1\uff0c\u9a8c\u8bc1\u5305\u62ec\u90ae\u7bb1\u7684\u683c\u5f0f\u548c\u5e74\u9f84\u7684\u6700\u5c0f\u8303\u56f4\u3002"}),"\n",(0,t.jsx)(n.p,{children:"message \u7684\u503c\u5982\u4e0b"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'message.email="a"\uff1b\nmessage.age = 1;\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u4ece\u793a\u4f8b\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0c\u8fd9\u91cc\u53ea\u6709\u4e24\u4e2a\u5b57\u6bb5\u9700\u8981\u9a8c\u8bc1\uff0c\u5c31\u6709\u5f88\u591a\u4ee3\u7801\u4e86\u3002\n\u5982\u679c\u5728\u591a\u52a0\u51e0\u4e2a\u9700\u8981\u9a8c\u8bc1\u7684\u5b57\u6bb5\u6216\u591a\u52a0\u51e0\u4e2a\u5b57\u6bb5\u7684\u9a8c\u8bc1\u89c4\u5219\uff0c\u90a3\u4e48\u4ee3\u7801\u5c31\u4f1a\u975e\u5e38\u7684\u591a\uff0c\n\u8fd9\u4e9b\u624b\u52a8\u9a8c\u8bc1\u7684\u4ee3\u7801\u5927\u90e8\u5206\u662f\u91cd\u590d\u3002"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"code 5~10: \u9a8c\u8bc1 email\u3002"}),"\n",(0,t.jsx)(n.li,{children:"code 12~13: \u9a8c\u8bc1 age\u3002"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",metastring:"showLineNumbers",children:'@ActionController(Jsr380Cmd.cmd)\npublic class Jsr380Action {\n    @ActionMethod(Jsr380Cmd.verifyData)\n    private ValidMessage verifyData(ValidMessage message) {\n        // highlight-start\n        String email = message.email;\n        ErrorCode.emailChecked.assertNullThrows(email);\n\n        Pattern pattern = Pattern.compile("[a-zA-Z0-9_-]+@\\\\w+\\\\.[a-z]+(\\\\.[a-z]+)?");\n        var result = pattern.matcher(email).find()\n        ErrorCode.emailChecked.assertTrue(result);\n        // highlight-end\n\n        // highlight-start\n        int age = message.age;\n        ErrorCode.ageChecked.assertTrueThrows(age < 2);\n        // highlight-end\n\n        // Your biz code\n        ...\n    }\n}\n\n@ToString\n@ProtobufClass\npublic class ValidMessage {\n    public String email;\n    public int age;\n}\n\n@Getter\n@FieldDefaults(level = AccessLevel.PRIVATE)\npublic enum ErrorCode implements ErrorInformation {\n    emailChecked(100, "Email error."),\n    ageChecked(101, "Age error."),\n    ;\n\n    final int code;\n    final String message;\n\n    ErrorCode(int code, String message) {\n        this.code = code;\n        this.message = message;\n    }\n}\n'})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"\u5173\u4e8e\u8fd9\u4e9b\u9a8c\u8bc1\u95ee\u9898\uff0c\u5728 JSR380 \u4e2d\u5df2\u7ecf\u7ed9\u51fa\u4e86\u7edf\u4e00\u7684\u89e3\u51b3\u65b9\u6848\u3002\n\u5927\u90e8\u5206\u7684\u6846\u67b6\u652f\u6301\u4e86\u8fd9\u4e00\u89c4\u8303\uff0c\u6240\u4ee5\u6211\u4eec\u7684\u4e1a\u52a1\u6846\u67b6\u4e5f\u662f\u652f\u6301\u7684\u3002"})}),"\n",(0,t.jsx)(n.h2,{id:"How-To-Install",children:"\u5982\u4f55\u5b89\u88c5"}),"\n",(0,t.jsx)(n.p,{children:"JSR380 \u662f\u4e00\u4e2a\u6309\u9700\u4f7f\u7528\u7684\u529f\u80fd\uff0c\u6240\u4ee5\u9700\u8981\u5728\u4f60\u9879\u76ee\u7684 maven \u4e2d\u5f15\u5165\u4ee5\u4e0b\u4f9d\u8d56\u3002"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",metastring:'title="pom.xml"',children:"\x3c!-- https://mvnrepository.com/artifact/jakarta.validation/jakarta.validation-api --\x3e\n<dependency>\n    <groupId>jakarta.validation</groupId>\n    <artifactId>jakarta.validation-api</artifactId>\n    <version>3.1.1</version>\n</dependency>\n\n\x3c!-- hibernate validator --\x3e\n<dependency>\n    <groupId>org.hibernate.validator</groupId>\n    <artifactId>hibernate-validator</artifactId>\n    <version>9.0.1.Final</version>\n</dependency>\n\n\x3c!-- EL implementation. In a Java SE environment, you must add the implementation as a dependency to your POM file --\x3e\n<dependency>\n    <groupId>org.glassfish</groupId>\n    <artifactId>jakarta.el</artifactId>\n    <version>4.0.2</version>\n</dependency>\n"})}),"\n",(0,t.jsx)(n.h2,{id:"How-to-Use",children:"\u5982\u4f55\u4f7f\u7528"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u5f00\u542f\u9a8c\u8bc1"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",metastring:"showLineNumbers",children:"class OneApplication {\n    static void main() {\n        // highlight-next-line\n        CoreGlobalConfig.setting.validator = true;\n        ...\n        new RunOne()\n                ...\n                .startup();\n    }\n}\n"})}),"\n",(0,t.jsx)("hr",{}),"\n",(0,t.jsxs)(n.p,{children:["\u6211\u4eec\u7ed9 ",(0,t.jsx)(n.strong,{children:"ValidMessage"})," \u52a0\u4e0a\u4e86\u4e00\u4e9b\u9a8c\u8bc1\u76f8\u5173\u7684\u6ce8\u89e3\uff0c\u8fd9\u4e9b\u6ce8\u89e3\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u7b80\u5316\u9a8c\u8bc1\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",metastring:"showLineNumbers",children:'@ToString\n@ProtobufClass\npublic class ValidMessage {\n    // highlight-start\n    @NotNull\n    @Email\n    public String email;\n    // highlight-end\n\n    // highlight-start\n    @Min(value = 2, message = "Age error")\n    public int age;\n    // highlight-end\n\n}\n'})}),"\n",(0,t.jsx)("hr",{}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"action example"})}),"\n",(0,t.jsx)(n.p,{children:"\u540c\u6837\u7684\uff0c\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\u6211\u4eec\u5bf9\u7535\u5b50\u90ae\u7bb1\u548c\u5e74\u9f84\u8fd9\u4e24\u4e2a\u5c5e\u6027\u7684\u6570\u636e\u8fdb\u884c\u5408\u6cd5\u9a8c\u8bc1\uff0c\n\u9a8c\u8bc1\u5305\u62ec\u90ae\u7bb1\u7684\u683c\u5f0f\u548c\u5e74\u9f84\u7684\u6700\u5c0f\u8303\u56f4\u3002"}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["\u6211\u4eec\u5728\u65b9\u6cd5\u53c2\u6570\u4e2d\u6dfb\u52a0\u4e86\u4e00\u4e2a ",(0,t.jsx)(n.strong,{children:"@Valid"})," \u6ce8\u89e3\uff0c\u8be5\u6ce8\u89e3\u662f\u544a\u8bc9\u6846\u67b6\u8fd9\u4e2a\u53c2\u6570\u9700\u8981\u505a\u9a8c\u8bc1\u3002"]})}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"@ActionController(Jsr380Cmd.cmd)\npublic class Jsr380Action {\n    @ActionMethod(Jsr380Cmd.verifyData)\n    // highlight-next-line\n    private ValidMessage verifyData(@Valid ValidMessage message) {\n        // Your biz code\n        ...\n    }\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u4ee3\u7801\u4e2d\u6ca1\u6709\u4efb\u4f55\u7684\u903b\u8f91\uff08\u5e72\u51c0\u7684\u4e1a\u52a1\u4f53\uff09\uff0c\u56e0\u4e3a\u9a8c\u8bc1\u76f8\u5173\u7684\u903b\u8f91\u5168\u90fd\u7531\u4e1a\u52a1\u6846\u67b6\u6765\u505a\u4e86\uff0c\u5305\u62ec\u9519\u8bef\u7801\u7684\u54cd\u5e94\u3002\n",(0,t.jsx)(n.strong,{children:"\u8fd9\u6bb5\u4ee3\u7801\u4e0e\u4e0a\u9762\u6ca1\u6709\u4f7f\u7528 JSR380 \u7684\u793a\u4f8b\u4ee3\u7801\u8fbe\u5230\u540c\u7b49\u7684\u9a8c\u8bc1\u6548\u679c"}),"\u3002\n\u9664\u4e86\u53ef\u4ee5\u8fbe\u5230\u540c\u7b49\u9a8c\u8bc1\u6548\u679c\u7684\u540c\u65f6\uff0c\u4e1a\u52a1\u6846\u67b6\u8fd8\u505a\u4e86\u4e00\u4e9b\u5c0f\u4f18\u5316\u3002\n\u5982\u679c\u4e1a\u52a1\u53c2\u6570\u9a8c\u8bc1\u6ca1\u6709\u901a\u8fc7\uff0c\u5c31\u4e0d\u4f1a\u6267\u884c action\u3002"]}),"\n",(0,t.jsx)(n.p,{children:"\u4e1a\u52a1\u6846\u67b6\u7ed3\u5408\u4e86 JSR380 \u548c\u5f02\u5e38\u673a\u5236\uff0c\u4f7f\u5f97\u7a0b\u5e8f\u5458\u53ea\u9700\u5173\u6ce8\u771f\u6b63\u7684\u4e1a\u52a1\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"Print-Preview-of-Failed-Validation",children:"\u9a8c\u8bc1\u5931\u8d25\u7684\u6253\u5370\u9884\u89c8"}),"\n",(0,t.jsx)(n.p,{children:"\u4e0b\u9762\u5206\u522b\u6d4b\u8bd5\u4e86 email \u548c age\uff0c\u5f53\u9a8c\u8bc1\u5931\u8d25\u65f6\uff0c\u6846\u67b6\u4f1a\u628a\u8fd9\u4e2a\u9519\u8bef\u7801\u548c\u9519\u8bef\u63d0\u793a\u7ed9\u5230\u8bf7\u6c42\u7aef\u3002"}),"\n",(0,t.jsx)(n.p,{children:"\u63a7\u5236\u53f0\u6253\u5370"}),"\n","\n",(0,t.jsxs)(s.A,{defaultValue:"English",values:[{label:"CN",value:"Chinese"},{label:"EN",value:"English"}],children:[(0,t.jsx)(l.A,{value:"Chinese",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",metastring:"showLineNumbers",children:"\u250f\u2501\u2501 Error.(Jsr380Action.java:1) \u2501\u2501 [ValidMessage verifyData(ValidMessage message)] \u2501\u2501 [8-1] \u2501\u2501 [tag:HallLogicServer, serverId:9312241] \u2501\u2501\u2501\u2501\n\u2523 userId: 1378604058\n\u2523 \u53c2\u6570: ValidMessage(email=luoyizhu@gmail.com, age=1)\n\u2523 \u9519\u8bef\u7801: -1001\n// highlight-next-line\n\u2523 \u9519\u8bef\u6d88\u606f: age Age error\n\u2523 \u8017\u65f6: 0 ms\n\u2517\u2501\u2501 [ionet:25.1] \u2501\u2501 [\u7ebf\u7a0b:User-8-3] \u2501\u2501 [\u8fde\u63a5\u65b9\u5f0f:WebSocket] \u2501\u2501 [traceId:1761983850217] \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n\u250f\u2501\u2501 Error.(Jsr380Action.java:1) \u2501\u2501 [ValidMessage verifyData(ValidMessage message)] \u2501\u2501 [8-1] \u2501\u2501 [tag:HallLogicServer, serverId:9312241] \u2501\u2501\u2501\u2501\n\u2523 userId: 1378604058\n\u2523 \u53c2\u6570: ValidMessage(email=luoyizhu, age=99)\n\u2523 \u9519\u8bef\u7801: -1001\n// highlight-next-line\n\u2523 \u9519\u8bef\u6d88\u606f: email \u4e0d\u662f\u4e00\u4e2a\u5408\u6cd5\u7684\u7535\u5b50\u90ae\u4ef6\u5730\u5740\n\u2523 \u8017\u65f6: 0 ms\n\u2517\u2501\u2501 [ionet:25.1] \u2501\u2501 [\u7ebf\u7a0b:User-8-3] \u2501\u2501 [\u8fde\u63a5\u65b9\u5f0f:WebSocket] \u2501\u2501 [traceId:1761983850218] \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n"})})}),(0,t.jsx)(l.A,{value:"English",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",metastring:"showLineNumbers",children:"\u250f\u2501\u2501 Error.(Jsr380Action.java:1) \u2501\u2501 [ValidMessage verifyData(ValidMessage message)] \u2501\u2501 [8-1] \u2501\u2501 [tag:HallLogicServer, serverId:6468190] \u2501\u2501\u2501\u2501\n\u2523 userId: 1378604058\n\u2523 RequestParam: ValidMessage(email=luoyizhu@gmail.com, age=1)\n\u2523 ErrorCode: -1001\n// highlight-next-line\n\u2523 ErrorMessage: age Age error\n\u2523 ExecutionTime: 0 ms\n\u2517\u2501\u2501 [ionet:25.1] \u2501\u2501 [Thread:User-8-3] \u2501\u2501 [ConnectionWay:WebSocket] \u2501\u2501 [traceId:1761984090278] \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n\u250f\u2501\u2501 Error.(Jsr380Action.java:1) \u2501\u2501 [ValidMessage verifyData(ValidMessage message)] \u2501\u2501 [8-1] \u2501\u2501 [tag:HallLogicServer, serverId:6468190] \u2501\u2501\u2501\u2501\n\u2523 userId: 1378604058\n\u2523 RequestParam: ValidMessage(email=luoyizhu, age=99)\n\u2523 ErrorCode: -1001\n// highlight-next-line\n\u2523 ErrorMessage: email must be a well-formed email address\n\u2523 ExecutionTime: 0 ms\n\u2517\u2501\u2501 [ionet:25.1] \u2501\u2501 [Thread:User-8-3] \u2501\u2501 [ConnectionWay:WebSocket] \u2501\u2501 [traceId:1761984090279] \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n"})})})]}),"\n",(0,t.jsx)(n.h2,{id:"Auto-Verification",children:"\u81ea\u52a8\u9a8c\u8bc1"}),"\n",(0,t.jsxs)(n.p,{children:["\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u9700\u8981\u624b\u52a8\u5199\u5165 ",(0,t.jsx)(n.strong,{children:"@Valid"})," \u6ce8\u89e3\u6765\u544a\u8bc9\u6846\u67b6\u8fd9\u4e2a\u53c2\u6570\u9700\u8981\u9a8c\u8bc1\u3002\n\u6b64\u5916\uff0c\u6846\u67b6\u8fd8\u63d0\u4f9b\u4e86\u81ea\u52a8\u9a8c\u8bc1\u7684\u8bbe\u7f6e\uff0c\u8fd9\u6837\u5c31\u4e0d\u9700\u8981\u5728\u6bcf\u4e2a\u53c2\u6570\u4e2d\u624b\u52a8\u914d\u7f6e\u4e86\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"@ActionController(Jsr380Cmd.cmd)\npublic class Jsr380Action {\n    @ActionMethod(Jsr380Cmd.verifyData)\n    // highlight-next-line\n    private ValidMessage verifyData(@Valid ValidMessage message) {\n        // Your biz code\n        ...\n    }\n}\n"})}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsxs)(n.p,{children:["\u5f00\u542f\u81ea\u52a8\u9a8c\u8bc1\u540e\uff0c\u53c2\u6570\u4e0d\u9700\u8981\u6dfb\u52a0 ",(0,t.jsx)(n.strong,{children:"@Valid"}),"\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",metastring:"showLineNumbers",children:"class OneApplication {\n    static void main() {\n        // highlight-next-line\n        CoreGlobalConfig.setting.validator = true;\n        // highlight-next-line\n        CoreGlobalConfig.setting.validatorAutoCall = true;\n        ...\n        new RunOne()\n                ...\n                .startup();\n    }\n}\n\n@ActionController(Jsr380Cmd.cmd)\npublic class Jsr380Action {\n    @ActionMethod(Jsr380Cmd.verifyData)\n    // highlight-next-line\n    private ValidMessage verifyData(ValidMessage message) {\n        // Your biz code\n        ...\n    }\n}\n"})}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u5982\u4f55\u9009\u62e9?"})}),"\n",(0,t.jsx)(n.p,{children:"\u4e2a\u4eba\u503e\u5411\u624b\u52a8\u5199\uff0c\u56e0\u4e3a\u8fd9\u5728\u8bed\u4e49\u4e0a\u66f4\u6e05\u6670\uff0c\u4e4b\u6240\u4ee5\u63d0\u4f9b\u81ea\u52a8\u9a8c\u8bc1\u662f\u4e3a\u4e86\u517c\u5bb9 ioGame \u7684\u4ee3\u7801\uff0c"})]})}function g(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>s,x:()=>l});var r=a(6540);const t={},i=r.createContext(t);function s(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(i.Provider,{value:n},e.children)}},9365:(e,n,a)=>{a.d(n,{A:()=>s});a(6540);var r=a(4164);const t={tabItem:"tabItem_Ymn6"};var i=a(4848);function s({children:e,hidden:n,className:a}){return(0,i.jsx)("div",{role:"tabpanel",className:(0,r.A)(t.tabItem,a),hidden:n,children:e})}}}]);