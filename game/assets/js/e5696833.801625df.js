"use strict";(self.webpackChunkio_game_doc=self.webpackChunkio_game_doc||[]).push([[546],{5721:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>o,contentTitle:()=>c,default:()=>m,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"manual/cmd","title":"\u8def\u7531","description":"\u4ecb\u7ecd","source":"@site/docs/manual/cmd.mdx","sourceDirName":"manual","slug":"/manual/cmd","permalink":"/game/docs/manual/cmd","draft":false,"unlisted":false,"editUrl":"/docs/manual/cmd.mdx","tags":[],"version":"current","lastUpdatedAt":1750155762000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"\u624b\u518c","permalink":"/game/docs/category/manual"},"next":{"title":"Action","permalink":"/game/docs/manual/action"}}');var t=i(4848),l=i(8453);const r={sidebar_position:1},c="\u8def\u7531",o={},d=[{value:"\u4ecb\u7ecd",id:"Intro",level:2},{value:"\u8def\u7531\u6ce8\u89e3",id:"Route-Annotation",level:2},{value:"\u5982\u4f55\u7406\u89e3\u8def\u7531",id:"Understanding-Routing",level:2},{value:"\u6700\u4f73\u5b9e\u8df5",id:"Best-Practices",level:2},{value:"\u8def\u7531\u8ba1\u7b97\u5de5\u5177",id:"kit",level:2}];function a(n){const e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"\u8def\u7531",children:"\u8def\u7531"})}),"\n",(0,t.jsx)(e.h2,{id:"Intro",children:"\u4ecb\u7ecd"}),"\n",(0,t.jsxs)(e.p,{children:["\u8fd9\u91cc\u8def\u7531\u7684\u6982\u5ff5\u5bf9\u5e94\u6d4f\u89c8\u5668\u4e2d\u7684 URL\uff0c\u8868\u793a\u4e00\u4e2a\u552f\u4e00\u7684\u8bbf\u95ee\u5730\u5740\u3002\n\u8def\u7531\u662f\u4e00\u4e2a\u5bf9\u5916\u63d0\u4f9b\u8bbf\u95ee\u4e1a\u52a1\u65b9\u6cd5\u7684\u5730\u5740\uff0c\u5728\u7c7b\u548c\u65b9\u6cd5\u4e0a\u6dfb\u52a0\u4e86\u8def\u7531\u7684\uff0c\u4e5f\u79f0\u4e3a ",(0,t.jsx)(e.a,{href:"/docs/manual/action",children:"Action"}),"\u3002"]}),"\n",(0,t.jsx)(e.h2,{id:"Route-Annotation",children:"\u8def\u7531\u6ce8\u89e3"}),"\n",(0,t.jsx)(e.p,{children:"\u4e1a\u52a1\u6846\u67b6\u4e2d\u63d0\u4f9b\u4e86\u4e24\u4e2a\u6ce8\u89e3\uff0c\u5206\u522b\u662f"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"@ActionController"})," \u4e3b\u8def\u7531 \uff08\u4f5c\u7528\u5728\u4e1a\u52a1\u7c7b\u4e0a\uff09"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"@ActionMethod"})," \u5b50\u8def\u7531\uff08\u4f5c\u7528\u5728\u4e1a\u52a1\u65b9\u6cd5\u4e0a\uff09"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:'@ActionController(2)\npublic class DemoAction {\n    @ActionMethod(0)\n    public HelloMessage here(HelloMessage message) {\n        message.name = message.name + ", I\'m here ";\n        return message;\n    }\n\n    @ActionMethod(1)\n    public HelloMessage say(HelloMessage message) {\n        message.name = message.name + ", I\'m say ";\n        return message;\n    }\n}\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u4e0a\u9762\u4ee3\u7801\u4e2d\u5b9a\u4e49\u4e86\u4e24\u4e2a\u5bf9\u5916\u5f00\u653e\u7684 action"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"here \u662f\u4e00\u4e2a action\uff0c\u8bbe\u5b9a\u7684\u4e3b\u8def\u7531\u503c\u4e3a 2\uff0c\u5b50\u8def\u7531\u503c\u4e3a 0\u3002"}),"\n",(0,t.jsx)(e.li,{children:"say \u662f\u4e00\u4e2a action\uff0c\u8bbe\u5b9a\u7684\u4e3b\u8def\u7531\u503c\u4e3a 2\uff0c\u5b50\u8def\u7531\u503c\u4e3a 1\u3002"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u53ef\u4ee5\u53d1\u73b0 DemoAction \u7c7b\u4e0b\u7684\u65b9\u6cd5\uff08Action\uff09\u90fd\u4f1a\u4f7f\u7528 DemoAction \u5bf9\u5e94\u7684\u4e3b\u8def\u7531 \u201c2\u201d\uff0c\n\u65b9\u6cd5\u5219\u7528\u81ea\u5df1\u7684 ActionMethod \u503c\u4e3a\u5b50\u8def\u7531\u3002"}),"\n",(0,t.jsx)(e.h2,{id:"Understanding-Routing",children:"\u5982\u4f55\u7406\u89e3\u8def\u7531"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"@ActionController"})," \u53ef\u4ee5\u7406\u89e3\u4e3a Spring\u6846\u67b6\u4e2d\u7684 @RestController \u6ce8\u89e3 (\u4f5c\u7528\u5728\u7c7b\u4e0a\u7684)"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"@ActionMethod"})," \u53ef\u4ee5\u7406\u89e3\u4e3a Spring\u6846\u67b6\u4e2d\u7684 @GetMapping \u6ce8\u89e3 (\u4f5c\u7528\u5728\u65b9\u6cd5\u4e0a\u7684)"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"\u4e3e\u4f8b\u8bf4\u660e"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-text",children:"URL: https://ip:port/user/hello\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u5f53\u5728\u6d4f\u89c8\u5668\u8f93\u5165\u4e0a\u9762\u7684 URL \u540e\uff0c \u8868\u793a\u8bbf\u95ee user \u6a21\u5757\u4e0b\u7684 hello \u65b9\u6cd5\u3002"}),"\n",(0,t.jsxs)(e.p,{children:["user \u5bf9\u5e94\u4e1a\u52a1\u6846\u67b6\u4e2d\u7684",(0,t.jsx)(e.strong,{children:"\u4e3b\u8def\u7531"})," @ActionController"]}),"\n",(0,t.jsxs)(e.p,{children:["hello \u5bf9\u5e94\u4e1a\u52a1\u6846\u67b6\u4e2d\u7684",(0,t.jsx)(e.strong,{children:"\u5b50\u8def\u7531"})," @ActionMethod"]}),"\n",(0,t.jsx)(e.h2,{id:"Best-Practices",children:"\u6700\u4f73\u5b9e\u8df5"}),"\n",(0,t.jsx)(e.p,{children:"\u5728\u5f00\u53d1\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u8def\u7531\u5b9a\u4e49\u4e3a\u5e38\u91cf\u3002"}),"\n",(0,t.jsx)(e.p,{children:"\u4e00\u4e2a\u6e38\u620f\u901a\u5e38\u7531\u591a\u4e2a\u6a21\u5757\u7ec4\u6210\uff0c\u6bcf\u4e2a\u6a21\u5757\u4e0b\u4f1a\u6709\u591a\u4e2a\u4e1a\u52a1\u65b9\u6cd5\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u6240\u6709\u6a21\u5757\u7684\u4e3b\u8def\u7531\u5b9a\u4e49\u5230\u4e00\u4e2a\u63a5\u53e3\u4e2d\u3002"}),"\n",(0,t.jsx)(e.p,{children:"\u6bcf\u4e2a\u6a21\u5757\u5355\u72ec\u4e00\u4e2a\u6587\u4ef6\uff0c\u800c\u6bcf\u4e2a\u6a21\u5757\u6587\u4ef6\u7ba1\u7406\u5bf9\u5e94\u7684\u4e1a\u52a1\u65b9\u6cd5\u3002\n\u6a21\u5757\u6587\u4ef6\u547d\u540d\u4ee5 xxxCmd \u7ed3\u5c3e\uff0c\u5355\u72ec\u6a21\u5757\u4e0b\u4e3b\u8def\u7531\u7edf\u4e00\u547d\u540d\u4e3a cmd\u3002"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:'public interface CmdModule {\n    int heroCmd = 1;\n    int equipCmd = 2;\n}\n\n/** \u82f1\u96c4\u6a21\u5757 */\npublic interface HeroCmd {\n    int cmd = CmdModule.heroCmd;\n    int hello = 0;\n    int age = 1;\n}\n\n/** \u88c5\u5907\u6a21\u5757 */\npublic interface EquipCmd {\n    int cmd = CmdModule.equipCmd;\n    /** subCmd : \u5f3a\u5316\u88c5\u5907 */\n    int intensify = 0;\n    /** subCmd : \u5347\u7ea7 */\n    int upgrade = 1;\n}\n\n@ActionController(HeroCmd.cmd)\npublic final class HeroAction {\n    @ActionMethod(HeroCmd.hello)\n    public String helo(String message) {\n        return message + ", Michael Jackson";\n    }\n}\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u4e4b\u6240\u4ee5\u63a8\u8350\u5b9a\u4e49\u8def\u7531\u5e38\u91cf\u662f\u4e3a\u4e86\u597d\u533a\u5206\u529f\u80fd\u6a21\u5757\u3002\u6bd4\u5982\uff1a"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u73a9\u5bb6\u6a21\u5757\uff1a\u4e0e\u73a9\u5bb6\u6a21\u5757\u76f8\u5173\u7684\u65b9\u6cd5\uff08\u7ecf\u9a8c\u589e\u52a0\u3001\u73a9\u5bb6\u5347\u7ea7\uff09"}),"\n",(0,t.jsx)(e.li,{children:"\u88c5\u5907\u6a21\u5757\uff1a\u4e0e\u88c5\u5907\u6a21\u5757\u76f8\u5173\u7684\u65b9\u6cd5\uff08\u88c5\u5907\u5f3a\u5316\u3001\u88c5\u5907\u9576\u5d4c\u5b9d\u77f3\u3001\u88c5\u5907\u9274\u5b9a\u7b49\uff09"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["\u8fd9\u91cc\u7684\u5efa\u8bae\u662f\uff0c\u4e00\u4e2a\u529f\u80fd\u6a21\u5757\u5b9a\u4e49\u4e00\u4e2a ",(0,t.jsx)(e.strong,{children:"cmd"}),"\uff0c\u529f\u80fd\u6a21\u5757\u4e0b\u7684\u4e00\u4e2a\u65b9\u6cd5\u5b9a\u4e49\u4e00\u4e2a ",(0,t.jsx)(e.strong,{children:"subCmd"}),"\u3002"]}),"\n",(0,t.jsx)(e.h2,{id:"kit",children:"\u8def\u7531\u8ba1\u7b97\u5de5\u5177"}),"\n",(0,t.jsx)(e.admonition,{type:"tip",children:(0,t.jsx)(e.p,{children:"\u6e38\u620f\u524d\u7aef\u7684\u540c\u5b66\uff0c\u53ef\u4ee5 copy \u8fd9\u6bb5\u4ee3\u7801\uff0c\u7528\u4e8e\u8ba1\u7b97\u8def\u7531\u3002\u5982\u679c\u4f7f\u7528\u4e86 ioGame SDK\uff0c\u5219\u53ef\u4ee5\u5ffd\u7565\u3002"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:"@UtilityClass\npublic class CmdKit {\n    public int getCmd(int cmdMerge) {\n        return cmdMerge >> 16;\n    }\n\n    public int getSubCmd(int cmdMerge) {\n        return cmdMerge & 0xFFFF;\n    }\n\n    public int merge(int cmd, int subCmd) {\n        return (cmd << 16) + subCmd;\n    }\n}\n"})})]})}function m(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(a,{...n})}):a(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>r,x:()=>c});var s=i(6540);const t={},l=s.createContext(t);function r(n){const e=s.useContext(l);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:r(n.components),s.createElement(l.Provider,{value:e},n.children)}}}]);